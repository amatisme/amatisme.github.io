const TABLET_MAX_WIDTH=1024,HANDSET_MAX_WIDTH=515;class FandangoCommon{el;name;sass="--";constructor(e,t){this.name=e,t&&(this.sass=t),document.querySelectorAll(`[${this.name}]`).forEach((e=>this.initialize(e)))}initialize(e){const t=this.getSanitizedValue(e.getAttribute(this.name));this.setResizeValues(e,t),this.setListeners(e,t),e.setAttribute("fn-init",!0),this.logEvent("initialize()")}handleResize(){document.querySelectorAll(`[${this.name}]`).forEach((e=>{const t=this.getSanitizedValue(e.getAttribute(this.name));this.setResizeValues(e,t)})),this.logEvent("handleResize()")}setListeners(e){}setResizeValues(e,t){var n=t,s=t,a=t;if(t)try{if(t.includes("|")){const e=t.split("|");e.length&&(3==e.length&&(n=e[0],s=e[1],a=e[2]),2==e.length&&(n=e[0],s=e[0],a=e[1]),1==e.length&&(n=e[0],s=e[0],a=e[0]))}else n=s=a=t;document.documentElement.clientWidth<=515?(this.setAttributeValue(e,a),this.logEvent("handset detected!")):document.documentElement.clientWidth<=1024?(this.setAttributeValue(e,s),this.logEvent("tablet detected!")):(this.setAttributeValue(e,n),this.logEvent("desktop detected!"))}catch(e){console.warn("Array must contain values for [desktop, tablet, handset]",e,this)}}getSanitizedValue(e){if(e){if(e.includes(",")){const t=e.split(",");return e=t[0].includes("--")?`var(${this.sass}${t[0].replaceAll("--","")})`:t[0],e=t[1].includes("--")?`${e},var(${this.sass}${t[1].replaceAll("--","")})`:`${e},${t[1]}`}return e.includes("--")?(e=e.replaceAll("--",""),`var(${this.sass}${e})`):e}}logEvent(e){console.debug(`%c-----------------------------\n!FANDANGO | ${this.name.toUpperCase()} | ${e}`,"color:orange;")}setAttributeValue(e,t){console.warn("handleAttributeValue() not implemented by inherited class.",e,t)}getSeparatedValue(e,t,n,s=!1){this.logEvent(e);try{const a=e.split(t);return a.length>1?s?+a[n]:a[n]:s?+e:e}catch(e){return}}}class FandangoColor extends FandangoCommon{constructor(){super("fn-color","--color-")}setListeners(e,t){e.addEventListener("mouseenter",(n=>this.handleMouseEnter(e,t))),e.addEventListener("mouseleave",(n=>this.handleMouseLeave(e,t)))}handleMouseEnter(e,t){e.style.color=this.getSeparatedValue(t,",",1,!1),this.logEvent("handleMouseEnter()")}handleMouseLeave(e,t){e.style.color=this.getSeparatedValue(t,",",0,!1),this.logEvent("handleMouseLeave()")}setAttributeValue(e,t){t=this.getSeparatedValue(t,",",0),e.style.color="inherit"!==t?t:e.style.color}}class FandangoFill extends FandangoCommon{constructor(){super("fn-fill","--color-")}setListeners(e,t){e.addEventListener("mouseenter",(n=>this.handleMouseEnter(e,t))),e.addEventListener("mouseleave",(n=>this.handleMouseLeave(e,t)))}handleMouseEnter(e,t){e.style.backgroundColor=this.getSeparatedValue(t,",",1,!1),this.logEvent("handleMouseEnter()")}handleMouseLeave(e,t){e.style.backgroundColor=this.getSeparatedValue(t,",",0,!1),this.logEvent("handleMouseLeave()")}setAttributeValue(e,t){t=this.getSeparatedValue(t,",",0),e.style.backgroundColor="inherit"!==t?t:e.style.backgroundColor}}class FandangoFlex extends FandangoCommon{constructor(){super("fn-flex")}initialize(e){super.initialize(e),e.style.width="100%",e.style.display="flex"}setAttributeValue(e,t){const n=this.getSeparatedValue(t,",",0,!1),s=this.getSeparatedValue(t,",",1,!1);e.style.flexDirection="reverse"===s?"rows"===n?"column-reverse":"row-reverse":"rows"===n?"column":"row"}}class FandangoGap extends FandangoCommon{constructor(){super("fn-gap","--spacing-")}setAttributeValue(e,t){e.style.rowGap=this.getSeparatedValue(t,",",1),e.style.columnGap=this.getSeparatedValue(t,",",0)}}class FandangoPadding extends FandangoCommon{constructor(){super("fn-padding","--spacing-")}setAttributeValue(e,t){e.style.paddingTop=this.getSeparatedValue(t,",",1),e.style.paddingBottom=this.getSeparatedValue(t,",",1),e.style.paddingLeft=this.getSeparatedValue(t,",",0),e.style.paddingRight=this.getSeparatedValue(t,",",0)}}const REGISTRY={};new MutationObserver(((e,t)=>{console.debug("handled mutation?",e),handleMutation()})).observe(document.body,{childList:!0,subtree:!0}),new ResizeObserver((e=>{console.debug("handled resize?",e),handleResize()})).observe(document.body);const handleMutation=e=>{document.querySelectorAll("[fn-color]").length&&(REGISTRY.color=new FandangoColor),document.querySelectorAll("[fn-fill]").length&&(REGISTRY.fill=new FandangoFill),document.querySelectorAll("[fn-flex]").length&&(REGISTRY.flex=new FandangoFlex),document.querySelectorAll("[fn-gap]").length&&(REGISTRY.gap=new FandangoGap),document.querySelectorAll("[fn-padding]").length&&(REGISTRY.padding=new FandangoPadding)},handleResize=e=>{for(const[e,t]of Object.entries(REGISTRY))REGISTRY[e].handleResize()};handleMutation();